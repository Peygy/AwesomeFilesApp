# AwesomeFiles API

## Описание

Этот проект предоставляет REST API для получения информации о файлах, создания задач на упаковку файлов в архив и скачивания этих архивов.

## Запуск сервиса

1. Убедитесь, что у вас установлен .NET SDK.
2. Склонируйте репозиторий и перейдите в директорию проекта `SafeBoard/ApiService`.
3. Запустите сервис командой (Powershell):

```bash
dotnet run
```

4. Создайте в папку `files` и добавьте файлы взаимодейтсвия (или воспользуйтесь уже готовыми файлами).

#### Запуск сервиса через Docker

1. Убедитесь, что у вас установлен Docker.
2. Соберите образ сервиса командой (Powershell):

```bash
docker build -f "./ApiService/Dockerfile" --force-rm -t apiservice --build-arg "BUILD_CONFIGURATION=Release" --label "com.microsoft.created-by=visual-studio" --label "com.microsoft.visual-studio.project-name=ApiService" .
```

3. Запустите контейнер командой (Powershell):

```bash
docker run -d -p 8080:8080 -v "$(pwd)/files:/app/files" --name api apiservice
```

4. Перейдите в папку `files` в текущей директории и добавьте файлы взаимодейтсвия.

## Работа сервиса

#### Сервис будет доступен по адресу http://localhost:8080.

__Конечные точки пользования API:__
1. __GET__ /api/files: Получить список всех файлов.
2. __POST__ /api/files/archive: Инициализировать процесс архивирования. Принимает список имен файлов в формате JSON и возвращает уникальный ID процесса.
3. __GET__ /api/files/archive/ID: Проверить статус процесса архивирования.
4. __GET__ /api/files/archive/ID/download: Скачать архив по ID процесса.

___Примечания:___
Все запросы логируются в консоль.
В случае некорректного ввода, пользователю возвращается сообщение об ошибке.

## Тестирование

#### Ручное

Запустите сервис и проверьте работу эндпоинтов с помощью Postman или другого клиента API.

#### Автоматическое

1. Перейдите в тестовый проект `SafeBoard/ApiService.Tests`
2. Запустите выполнение тестов с помощью команды:

```bash
dotnet test
```

3. После выполнения тестов, будет выведен отчет выполнения тестов